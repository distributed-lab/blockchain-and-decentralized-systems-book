# 1 ДЕЦЕНТРАЛІЗАЦІЯ В ІНФОРМАЦІЙНИХ СИСТЕМАХ

Централізовані системи й ієрархічні моделі керування, що застосовуються в них, мають низку недоліків. Наприклад, будь-яка централізована соціальна мережа на кшталт Facebook може цензурувати всі дії користувачів та блокувати їхні акаунти, якщо ці дії виявилися «неправомірними». Звісно, рішення про правомірність цих дій приймає одноосібно керівна сторона.

Непрозорість процесів, які відбуваються в централізованих інформаційних системах, не залишає клієнтам майже жодної можливості довести порушення приватності їхніх важливих (sensitive) даних. У фінансових системах ця сама непрозорість спричиняє неможливість перевірити те, чи відповідає остаточний баланс користувача проведеним транзакціям.

Такий стан речей (точніше, такі особливості традиційної архітектури) дозволяє володільцю системи модифікувати історію змін на свій розсуд, зокрема навіть заднім числом. Очевидно, що в таких системах процес прийняття рішень має цілком суб’єктивний характер.

## 1.1 Що таке децентралізація?

*Децентралізація* – протилежний до централізації процес. Він передбачає, що відповідальність за підтримування функцій певної системи (зберігання даних, обчислення, прийняття рішень тощо) розподіляється між її учасниками. Це поняття застосовується не лише в межах інформаційних технологій. Воно вже давно використовується в галузях суспільного життя, як-от політика, менеджмент, юриспруденція, економіка тощо.

У теорії передавання даних децентралізація передбачає створення умов, за яких зникає потреба в центральному сервері, а учасники мережі рівноправні. Яскравий приклад децентралізації – Інтернет: у цій глобальній мережі маршрутизатори працюють незалежно один від одного. У таких умовах вихід із ладу одного з маршрутизаторів не критичний для користувачів, оскільки здебільшого є більш ніж один маршрут доставки пакета даних. Що вищий *рівень децентралізації* системи, то більша максимальна кількість компонентів, що відмовили, яку вона може витримати.

*Децентралізована система* передбачає наявність великої кількості незалежних учасників, які спільно підтримують її функціонування. Відзначмо, що такий підхід вимагає від учасників погоджених дій, що потрібні для доволі ефективного функціонування системи без центральної сторони. Децентралізація як явище має багато переваг. Щоби зрозуміти їх, варто розглянути базові поняття та визначення, а також звернутися до історії розвитку децентралізованих систем.

### Поняття децентралізація для інформаційних систем

Спочатку слід розібратися, що таке інформаційна система. Згідно зі стандартом ISO/IEC 2382:2015 [1] інформаційна система – це система, призначена для збирання, структурування, зберігання й обробляння інформації, і відповідні організаційні ресурси, які до неї належать. Для функціонування інформаційної системи потрібна база даних, а також технічні засоби з відповідним програмним забезпеченням для доступу до цієї бази й керування даними.

Можна виокремити дві головні ознаки, що відрізняють децентралізовану інформаційну систему від централізованої. Перша з них полягає в тому, що всі її компоненти обов’язково децентралізовані. «Ну то й що?» – скажете ви. – «Припустімо, централізований сервіс передбачає, що копії бази даних зберігають паралельно всі користувачі. Але ж такий підхід не робить систему децентралізованою?»

Правильно, але є ще друга ознака. Вона передбачає, що децентралізація «розщеплює» ядро системи. Усі *процеси*, що раніше були неподільні: керування системою, керування особистими даними й активами, комунікація, прийняття рішень, зберігання й обробляння інформації, аудит, – відтепер може виконувати багато учасників паралельно й незалежно один від одного.

### Відмінність децентралізованих систем від систем із резервуванням

Резервування часто використовується для підвищення надійності певної системи. Воно передбачає додавання надлишкових (резервних) компонентів у систему. Такий підхід передбачає, що за відмови одного з компонентів системи, її функціонування не припиниться, а просто відбудеться заміна цього компонента на резервний. Простим прикладом резервування може вважатися дублювання деяких органів ув організмі людини або ж наявність заступників у керівних посадовців.

Згідно з зазначеним вище надамо визначення системи з резервуванням. *Система з резервуванням – це система з резервними складниками, надлишковими відносно мінімально необхідної їх кількості, що виконують такі самі функції, що й основні елементи системи.*
Очевидно, децентралізація обов’язково передбачає наявність резервування, але резервування не завжди передбачає децентралізацію. Річ у тому, що резервування може здійснюватися й для централізованих систем. Для цього достатньо додати резервних копій ключових компонентів до системи (наприклад додаткову базу даних, яка відтворює копію даних, що зберігаються). У децентралізованому середовищі резервування – це обов’язковий наслідок того, що незалежний набір компонентів має кожний учасник певної системи.

Зважаючи на визначення системи з резервуванням і децентралізованої системи, можна відзначити дві основні відмінності між ними. Перша полягає в тому, що компонентами децентралізованої системи, на відміну від компонентів системи з резервуванням, не може керувати центральний орган. Друга – в тому, що надлишковість обов’язкова в децентралізованій системі. У системі з резервуванням надлишковість застосовується тільки для поліпшення певних робочих характеристик і не обов’язкова.

## 1.2 Історія децентралізованих систем

Ще в 1970-х рр. у пошуках надійнішого способу зберігання цифрових даних люди звернули увагу на використання принципів децентралізації. Одним із перших був реалізований проєкт під назвою Usenet [2]. Основний принцип функціонування цього протоколу полягав ув обмінюванні даними між серверами за спеціальним алгоритмом, який додатково забезпечував синхронізацію станів вузлів. Таким чином, кожен сервер був оновлювана локальна копія будь-якого іншого вузла з мережі. За відмови в обслуговуванні одного із серверів система й надалі функціонувала, адже копії даних зберігалися на будь-якому іншому сервері. Порівняно з наявними на той момент централізованими альтернативами підхід Usenet дозволив підвищити надійність зберігання даних.

Ідея, реалізована в протоколі Usenet, продемонструвала новий підхід до зберігання та синхронізування даних, тому цілком закономірно, що пізніше вона була покладена в основу подальших спроб реалізації надійного способу обмінювання даних у децентралізованому середовищі.

У цей самий час був запропонований протокол передачі файлів – FTP (File Transfer Protocol) [3]. Він дозволив користувачам незалежно передавати файли один до одного й дав поштовх виникненню децентралізованих файлообмінних мереж і протоколів обміну повідомленнями, які почали активно розвиватися пізніше, в 1990-х рр. Серед них можна відзначити Topsites, IRC, Napster тощо.

На початку 1980-х світ побачив стек протоколів передачі даних TCP/IP [4], з яким з’явився звичний для нас сьогодні Інтернет. Ця подія стала революцією в інформаційному світі, оскільки комп’ютери отримали можливість підключатися до глобального цифрового простору. Бізнес отримував великий вигоду від переходу процесів до цифрової форми, і навіть держави здебільшого підтримали цю інновацію.

Інтернет став вільною мережею для поширення інформації та прикладом для інших сфер, які стали застосовувати принципи децентралізації для пошуку й обробляння даних. Зараз ми називаємо їх open API та *sharing economy* [5]. Їхня основна ідея полягає в прямій взаємодії користувачів один з одним, а також у спільному використанні ресурсів, послуг, контенту, пристроїв тощо. Далі ми розглянемо, як такі принципи було застосовано в облікових системах різних типів.

### Децентралізовані файлообмінні системи

Децентралізований підхід до побудування файлообмінних систем і систем зберігання даних передбачає, що різні фрагменти файлів зберігають різні вузли мережі (рис. 1.1).

![Рисунок 1.1 – Схема розподілення фрагментів файла серед учасників децентралізованої системи зберігання даних](/resources/img/volume-1/1.2-history-of-decentralized-systems/1.1-file-fragment.png)

Стрімкий розвиток децентралізованих застосунків почався з появою сервісів і протоколів для кооперативного обмінювання файлами (рис. 1.2).

![Рисунок 1.2 – Схема обмінювання файлами в децентралізованих файлообмінних мережах](/resources/img/volume-1/1.2-history-of-decentralized-systems/1.2-file-sharing.png)

Один із перших сервісів, Napster, надавав можливість обміну MP3-файлами. У той час музичні композиції були доступні людям переважно у формі касет і дисків (авжеж, платно). Тому Napster став дуже популярним серед користувачів Інтернету. І хоча користувачі взаємодіяли за принципом peer-to-peer (P2P), база даних із файлами останньої версії все одно зберігалася на централізованому сервері. Пізніше це і виявилося слабким місцем, тиск на яке згодом завершився закриттям сервісу.

Далі з’являлися інші файлообмінні мережі, такі як Gnutella, eDonkey2000, DC++ і I2HUB. Але багато з них надалі також опинилися під загрозою, оскільки регуляторні органи мали можливість вплинути на компанію, що стояла за тим чи іншим сервісом. У 2005 році компанія MetaMachine, що розробляла та підтримувала eDonkey2000, отримала спеціальний лист від Американської асоціації індустрії звукозапису (RIAA) з вимогою припинити діяльність своєї файлообмінної мережі. Діяльність, яка велася за допомогою eDonkey2000, не могла вважатися легальною, а компанія могла понести серйозну відповідальність, якщо не припинить функціонування сервісу.

Проєкт eDonkey2000 довелося закрити. Проте світ уже отримав приклади, які показали, як можна змінити бізнес та економічні взаємовідносини. Реакцією на заборону та закриття p2p-проєктів стала поява нових проєктів, які розвивали децентралізовані моделі та створювали нові можливості для роботи з даними (доступність, надійність зберігання, відмовостійке функціонування тощо).

У 2001 році з’явився BitTorrent – протокол, що дозволив працювати швидко, ефективно й був не тільки відмовостійким, але й незалежним. Спочатку для роботи був потрібен централізована клієнтська програма, але пізніше з’явилися torrent-клієнти, яких важко відстежити, а використання VPN (Virtual Private Network) дозволило підвищити рівень анонімності користувачів. Саме BitTorrent – один із символів децентралізованого підходу, який успішно працює й донині.

Крім BitTorrent, є й інші цікаві рішення для децентралізованого зберігання даних. Одне з таких – розподілене сховище IPFS [11]. Суть функціонування IPFS, як і в BitTorrent, полягає в тому, що користувачі не завантажують файли з централізованих серверів, а безпосередньо обмінюються ними між собою. Ідея IPFS доволі схожа на концепцію Всесвітньої павутини (World-Wide Web): кожному файлу в системі присвоюється унікальний ідентифікатор – геш-значення від нього. Для відстежування історії цього файлу використовується Git (система управління версіями). Такий підхід дозволяє забезпечити доступ до найбільш актуальної версії контенту та водночас гарантувати його справжність. Пошук певного файлу можливий як за його ідентифікатором, так і за зрозумілим для людини іменем. Для цього використовується децентралізована система імен IPNS.

### Децентралізовані системи передачі даних

Що більше люди використовували глобальну мережу, то гостріше відчувалася потреба в забезпеченні приватності. На початку 2002 року був запущений проєкт під назвою Tor (The Onion Router) [6]. Це система проксі-серверів, що дозволяють установлювати анонімне мережне з’єднання, захищене від стеження за передаванням даних. Реалізація Tor дозволила користувачам з усього світу обходити блокування трафіку місцевих провайдерів й отримувати доступ до даних, зберігаючи водночас приватність [7].

Технології, що ґрунтуються на принципах децентралізації, отримали дуже сильний поштовх до розвитку в окремих сферах. Наприклад, у 2004 році були запущені перші проєкти з використання бездротових mesh-мереж у Південній Африці. Принцип їхньої роботи полягає в тому, що користувачі самі підтримують канали передавання даних і виконують маршрутизацію мережних даних. У такій мережі вузли «слухають» один одного та, якщо певний вузол виходить із ладу, ті вузли, які були підключені до вузла, що вийшов із ладу, шукають альтернативні вузли для перепідключення. Такий спосіб організації мережної взаємодії [8] зробив Інтернет доступнішим у тій місцевості, де централізовані провайдери не стали розміщувати своє обладнання з різних причин.

### Децентралізовані системи прийняття рішень

Інший цікавий спосіб застосування децентралізованого підходу – системи децентралізованого прийняття рішень. Уявімо, що п’ятеро осіб поклали до сейфу торт і домовилися, що з’їдять його, тільки якщо охочі становитимуть більшість. Вони розділили секрет від кодового замку й розподілили його між собою. Тепер торт можна буде з’їсти, тільки якщо більшість учасників домовленості вирішить поділитися своєю частиною секрету та відкрити замок сейфу (рис. 1.3).

![Рисунок 1.3 – Прийняття рішень незалежними учасниками](/resources/img/volume-1/1.2-history-of-decentralized-systems/1.3-decision-making.png)

У наші дні дуже великими фірмами не може керувати одна особа, а якщо же такі є, то їхня ефективність перебуває під великим сумнівом. Тому практично в будь-якій достатньо великій організації є рада директорів, безліч радників, а іноді право голосу в прийнятті рішень надається навіть співробітникам компанії. Такий підхід підвищує ефективність компанії завдяки співпраці людей, які мають різні погляди, різні способи оцінки конкретної проблеми та різні підходи до її вирішення. Таким чином, остаточне рішення можна вважати більш об’єктивним.

З розширенням зв’язку керівництва вищого рівня з керівництвом, яке перебуває на середньому та низовому рівнях, продуктивність організації зазвичай збільшується. У наші дні дедалі більше організацій переходить від ієрархічного способу управління до більш децентралізованого, що вже дало та надалі дає свої плоди.

Також важливо не плутати децентралізовані системи та системи з паралельними обчисленнями. В обох системах є багато обчислювальних машин, об'єднаних в одну мережу. Але в першому випадку обчислювальна задача вирішується кожним комп'ютером наново для досягнення незалежності результатів обчислень, а в другому – задача розбивається на підзадачі і кожен комп'ютер вирішує свою частину для скорочення часу отримання результатів.

*Системи паралельних обчислень (grid systems)* – це системи, що використовують розподілені комп’ютерні ресурси для досягнення спільної мети (рис. 1.4). Кількість вузлів у таких системах може коливатися від декількох машин до сотень і тисяч робочих станцій.

![Рисунок 1.4 – Схема передачі результатів обчислень у паралельних обчислювальних системах](/resources/img/volume-1/1.2-history-of-decentralized-systems/1.4-distributed-calculation.png)

Такий підхід уперше був запропонований в 1999 р. у публікації «The Grid: Blueprint for a new computing infrastructure». У тому ж році був запущений перший проєкт, у якому реалізований даний підхід, під назвою SETI@home [10]. Сьогодні є багато реалізацій таких проєктів: BOINC, Folding@home, Einstein@Home тощо. Відзначмо, що вищезгаданий проєкт SETI@home – досі один із найпотужніших розподілених суперкомп’ютерів.

### Децентралізовані платіжні системи

Наступним кроком стала децентралізація платіжних систем. Їх було набагато складніше децентралізувати зі зрозумілої причини – чутливості людей до всього, що безпосередньо пов’язане зі збережністю (safety) їхніх грошей.

Завдяки винайденню *грошей* вартість приватної власності стало набагато простіше оцінювати (можливість об’єктивного оцінення вартості – одна з основоположних властивостей грошей). Гроші були історично прив’язані до товарів, як-от золото, корови, хутро, мушлі, сигарети тощо. Рівень добробуту людини базувався на тому, яка кількість товару їй належить.

У наші дні гроші набули цифрового вигляду; вони фактично стали числами в базі даних, що дозволяють оцінювати можливості, владу та статус людей відносно один одного. Проблема з такими (т. зв. *фіатними*) грошима полягає в непрозорості їхньої емісії: цей процес може здійснюватися згідно з рішеннями окремих людей, а не загальною згодою. Відзначмо, що саме́ завдання досягнення загальної згоди щодо монетарної політики зовсім не тривіальне.

З появою Bitcoin (облікової системи) у 2009 році біткоїн (базова валюта) став першим *дефіцитним цифровим активом*. Унаслідок цього стала популярною ідея відокремити гроші від держави чи банків. Наприклад, те ж саме трапилося в деяких розвинених країнах століття назад, коли релігія та преса стали існувати незалежно (майже…) від держави. Утім, поняття *єдиної національної валюти* досі здебільшого передбачене в конституціях держав.

Головне питання таке: чи можливо створити ефективну платіжну системи з від початку необмеженою емісією, здатну моделювати роботу фіатних грошей, але водночас позбавлену впливу окремих осіб? Час покаже. Упевнено можна сказати, що можливість створення цифрового дефіциту (математично обмеженої емісії) та програмованих правил роботи (конституції, яку гарантує криптографія) революційна для багатьох аспектів життя та надалі розвиватиметься. З цієї причини розуміння принципів роботи Bitcoin необхідне, щоб успішно адаптуватися до реалій нового цифрового світу.

Саме на прикладі Bitcoin в першій частині книги ми розбираємо особливості роботи децентрализованої облікової системи, оскільки багато принципів, згідно з якими він спроєктований і реалізований, основоположні для будь-якої децентралізованої системи.

## 1.3 Застосування принципів децентралізації

У цьому підрозділі конкретизуються та формалізуються *принципи децентралізації* й особливості їх застосування в інформаційних системах. Наприклад, вони вже успішно застосовуються в системах зберігання даних (IPFS), обчислювальних системах для розподілення навантаження (BOINC project), mesh-мережах (Open Garden), телекомунікаціях (Tor, I2P), месенджерах (Tox, BitMessage), мережах розповсюдження контенту (BitTorrent), а також у цифрових валютах.

### Обмеження та проблеми централізованих систем

В основі централізованих систем закладено централізоване управління процесами. Подекуди такий підхід може забезпечити більшу ефективність функціонування системи. Як яскравий приклад можна навести можливість простого та швидкого оновлення правил протоколу. Припустімо, у централізованій обліковій системі виявляється вразливість, а розробники швидко з’ясовують причину проблеми та випускають відповідне оновлення. У результаті, усі користувачі, що хочуть надалі взаємодіяти з обліковою системою, змушені оновити своє програмне забезпечення. Процес оновлення в цьому разі відбувається швидко та максимально безболісно.

> **Функціонування традиційних платіжних систем**
> * *База даних зберігається на головному сервері (у хмарі чи кластері)*
> * *Система керується централізовано* 
> * *Користувачі відправляють запити до системи для проведення транзакцій*

Однак мають місце певні ризики, які необхідно враховувати під час роботи в такій системі. Один із них – можливість повної відмови системи. За виникнення певних ситуацій (вимкнення основного джерела живлення, халатність працівників під час експлуатації тощо) ключові компоненти системи можуть відмовити та спричинити повну втрату її працездатності. Наявність систем резервування деякою мірою пом’якшує ситуацію, однак і такий підхід не завжди може гарантувати безперебійну роботу сервісу.

Традиційні фінансові інструменти працюють за принципом, згідно з яким внутрішню облікову систему необхідно захищати за допомогою грубої сили [12]. Мається на увазі, що центральний сервер, на якому розташована база даних, захищається тільки вздовж периметру. Якщо подолати зовнішній захист, то сама база даних залишиться незахищеною. У цьому й криються деякі недоліки. З одного боку, якщо зловмисник подолає цей захист, то він може отримати повний доступ до даних та модифікувати їх. З іншого боку, такий підхід не дозволяє користувачам особисто перевіряти дані. Користувач може тільки відправити запит до серверу, який обробить цей запит і згодом надішле відповідь (рис. 1.5).

![Рисунок 1.5 – Принципи захисту традиційних систем](/resources/img/volume-1/1.3-applying-the-principles-of-decentralization/1.5-traditional-protection.png)

Для звичайного користувача внутрішня структура такої системи обліку непрозора та немає жодних гарантій правильності її роботи, однак у разі збою чи відмови в обслуговуванні є людина, яка несе за це відповідальність. Крім того, централізована облікова система має єдину точку відмови (рис. 1.5).

Якщо потрібно провести перевірку облікової системи, доведеться робити це вручну чи використовувати деякі інструменти автоматизації, причому найімовірніше її здійснюватиме аудитор. До 2009 року так працювали всі облікові системи.

Потенційна можливість цензурування дій користувача в системі – також один із недоліків. Централізована система передбачає повну й беззастережну довіру користувача до володільця й керівників системи. За такого підходу є загроза, що правила протоколу взаємодії в системі може бути порушено, якщо володільцю системи це буде вигідне.

### Застосування децентралізованого підходу

Історично люди будували системи, що копіюють звичну модель соціальних відносин, тому здебільшого системи, які ми бачимо навколо, побудовані за принципом ієрархії. Є чимало сфер, де ієрархічна модель добре працює, але такий підхід потенційно пов’язаний із низкою проблем.

> **Проблеми, вирішення яких пропонує децентралізація** 
>> * *Можливість цензурування*
>> * *Наявність єдиної точки відмови*
>> * *Необхідність довіряти володільцю системи*

> **_Зауваження._** *Цензура в контексті облікової системи означає, що конкретна сторона (наприклад організація, що обслуговує систему) може виконувати дії, як-от блокування облікових записів користувачів та змінювання даних транзакцій, на власний розсуд.*

Децентралізація можлива, коли йдеться про взаємодію рівноправних сторін. Протягом останніх двадцяти років було розроблено технології, які дозволяють реалізувати системи з рівноправною (одноранговою) взаємодією учасників. Стало можливим здійснювати низку процесів децентралізовано, водночас зберігаючи достатній рівень автоматизації. Утім, завдання децентралізації майже завжди дуже складне та не має тривіального рішення, не кажучи вже про готові технології та вдалі практики застосування.

### Принципи побудови децентралізованих систем

Далі буде перелічено основні аспекти децентралізації, які пов’язані з новими технологічними й організаційними ризиками. Це допоможе набагато краще усвідомити особливості та складнощі проєктування, розроблення та використання децентралізованих систем.

> **Основні принципи децентралізації**
>> * *Максимальне збільшення рівня незалежності кожного компонента системи*
>> * *Збереження балансу між ефективністю роботи та засобами, що застосовуються*
>> * *Децентралізація можлива лише за умови збереження цілісності всієї системи [13]*

> **_Зауваження._** *Ми використовуватимемо термін дані, коли мова йде про послідовність байтів, що піддається передачі, зберіганню та обробці автоматизованими системами, а термін інформація – коли маються на увазі деякі знання або відомості, якими обмінюються або які запам’ятовують люди.*

Перш ніж продовжити, слід згадати про способи взаємодії користувачів із системою. На рис. 1.6 зображені три підходи [14], що принципово відрізняються один від одного за своєю будовою.

![Рисунок 1.6 – Види систем залежно від способу взаємодії користувачів між собою](/resources/img/volume-1/1.3-applying-the-principles-of-decentralization/1.6-three-types-of-the-system.png)

> **_Зауваження._** *Тут і далі (на рисунках і в тексті) часто вживатимуться стійкі вирази та терміни в оригіналі (англійською), щоби звести до мінімуму різночитання.*

До централізованих систем можна віднести популярні соціальні мережі. Їхній головний недолік полягає в тім, що порушення роботи бази даних у таких системах торкнеться всіх користувачів.

До децентралізованих систем – банківську систему загалом, бо її утворює багато локальних центрів. Несправності, наприклад, у банку Аргентини, не спричиняють затримки платежів у банках Німеччини.

До розподілених систем можна віднести mesh-мережі та систему зв’язку на основі кишенькових рацій, де систему підтримують тільки пристрої користувачів, а відключення одного з пристроїв не вплине на взаємодію інших користувачів.

> **_Зауваження._** *Для позначення систем другого та третього типів ми загально вживатимемо термін ***децентралізована система***, бо обидва випадки передбачають відсутність центрального вузла.*

*Облікова система* – це окремий випадок автоматизованої системи оброблення даних, який передбачає наявність деякої бази даних і необхідність прийняття рішень щодо її оновлення (рис. 1.7).

![Рисунок 1.7 – Архітектура облікової системи](/resources/img/volume-1/1.3-applying-the-principles-of-decentralization/1.7-accounting-system-architecture.png)

> **_Зауваження._** *Тут і надалі ми використовуватимемо tx для позначення транзакції.*

*Централізована облікова система* включає базу даних, механізми її оновлення та центр управління, відповідальний за підтримання її роботи. Центр управління не завжди може забезпечити достатній рівень безпеки оброблення даних і надійності прийняття рішень. У пошуках кращих рішень світ прийшов до ідеї децентралізації облікових систем.

### Типова архітектура децентралізованих систем

*Децентралізована облікова система* – це окремий випадок облікової системи, принципова відмінність якої – використання *механізму досягнення консенсусу* (згоди) між декількома незалежними сторонами (рис. 1.8). Отже, кожна сторона будує власну базу даних, а алгоритм досягнення консенсусу гарантує, що кожна побудована база даних ідентична іншим копіям. У погодженні кінцевого стану всіх копій бере участь багато незалежних сторін (*валідаторів*), а не одна уповноважена сторона (*центр*).

![Рисунок 1.8 – Архітектура децентралізованої облікової системи](/resources/img/volume-1/1.3-applying-the-principles-of-decentralization/1.8-dec-acc-system-architecture.png)

### Переваги децентралізованих систем

У загальному разі децентралізована система передбачає, що учасники обмінюються інформацією безпосередньо, використовуючи p2p-протоколи, та самостійно зберігають дані, що потрібні для них самих. Для цього вони запускають спеціальне програмне забезпечення, яке підтримує потрібний p2p-протокол конкретної децентралізованої системи. У децентралізованих фінансових облікових системах, як-от криптовалютах, передбачається, що всі учасники зберігають копії тієї самої бази даних й оновлюють їх, використовуючи алгоритми досягнення консенсусу.

> * *Відмовостійкість* 
> * *Незалежність від одноосібного контролю* 
> * *Trustless (відсутня потреба довіряти третій стороні)*
> * *Permissionless (вільне використання)*
> * *Persistence (незмінність кінцевого стану бази даних)*
> * *Liveness (гарантується додання записів)*
> * *Формальність протоколів* 

*Відмовостійкість* – це властивість, за якої система зберігає свою працездатність навіть після відмови одного або декількох її компонентів. У традиційній клієнт-серверної архітектурі основні зусилля спрямовуються на захист центрального серверу. Якщо зловмисник заволодіє сервером та отримає доступ до бази даних, то вона може переписати історію на власний розсуд. Водночас зловмисник не може завдати критичної шкоди децентралізованій системі, заволодівши одним сервером й отримавши доступ до бази даних.

Принципи децентралізації багато років успішно застосовуються в проєктуванні та побудуванні авіаційної та космічної техніки, а також у роботі високоточних обчислювальних систем. Наприклад, під час роботи в нестабільних умовах дуже важливо, щоб основні системи (навігації, зв’язку, управління тощо) працювали надійно. У таких випадках проєктувальники систем вдаються до використання *надлишковості* (див. 1.1).

*Незалежність від одноосібного контролю* – ще одна відмінна риса децентралізованої системи. За наявності великої кількості незалежних учасників ніхто, навіть дуже зацікавлена сторона, не може вплинути на прийняття рішення на свою користь.

Властивість *trustless* полягає у відсутності потреби довіряти системі щодо зберігання й оброблення деяких даних або виконання деяких процесів. Зазвичай вона досягається завдяки великій кількості незалежних учасників, що приймають деякі спільні рішення. Очевидно, що зі збільшенням кількості незалежних (незнайомих) учасників значно знижується ймовірність їхньої змови.

Властивість *permissionless* означає, що система доступна для роботи без будь-яких додаткових дозволів (відсутня ієрархія заздалегідь визначених ролей). Будь-хто охочий може зчитувати та записувати дані, здійснювати їх аудит, а також брати участь у прийнятті спільного рішення, тобто в процесі управління. Однак у низці випадків, коли йдеться про рішення, які мають приймати експерти, загальнодоступна участь і навіть відкритість бази даних облікової системи вже не є переваги. Також властивість permissionless буде недолік, якщо валідатори оброблятимуть конфіденційні дані.

Властивість *persistence* передбачає, що система зберігає незмінність кінцевого стану своєї базі даних, навіть якщо вона повністю припиняє свою роботу на деякий час.

Властивість *liveness* гарантує, що якщо всі чесні учасники бажають додати запис до спільної базі даних, то він напевно буде до неї доданий.

Під *формальністю протоколів* мається на увазі, що всі учасники дійдуть єдиного рішення, якщо кожен із них жорстко дотримується попередньо заданого алгоритму.

> **_Зауваження._** *Переваги децентралізованих систем залежать від їхнього рівня децентралізації.*

### Обмеження децентралізованих систем

Разом із незаперечними перевагами в децентралізованих системах наявні деякі обмеження.

Перше з них полягає у відсутності служби підтримки (за визначенням), яка здатна вплинути на акаунти користувачів або транзакції. Це означає, що якщо ви помилково відправили транзакцію і вона була додана до спільної бази даних, то вам буде нікуди звернутися за відшкодуванням, ґрунтуючись на тім, що транзакція була «неумисна».

Друге обмеження – підвищена вартість підтримання системи. Сумарні витрати на підтримання децентралізованої системи зазвичай більші, ніж сумарні витрати на підтримання централізованого аналогу цієї системи. У низці систем із плином часу база даних тільки збільшується в розмірі, а отже, їхні учасники мають відводити дедалі більше ресурсів на зберігання й оброблення даних.

Третє обмеження – складність реалізації на децентралізованих платформах деяких функцій, що доступні централізованим системам. Як приклад можна навести підрахування статистики чи оцінювання стану системи в конкретний момент часу.

### Чинники, що сповільнюють впровадження децентралізованих систем

Зі збільшенням рівня децентралізації підвищується надійність і відмовостійкість системи, проте збільшувати цей рівень не завжди просто. Під час децентралізування можуть траплятися деякі складнощі та обмеження.

> * *Складнощі оновлення протоколу* 
> * *Проблема відповідальності* 
> * *Складний процес монетизації розробки* 
> * *Надлишковість і високі вимоги до обладнання* 
> * *Проблема масштабованості*

*Складнощі оновлення протоколу*. Складність впровадження будь-якого оновлення протоколу взаємодії в децентралізованому середовищі полягає в тому, що запропоноване оновлення має підтримати більшість активних вузлів мережі (рис. 1.9). Для цього сторона, що пропонує оновлення, має довести необхідність його впровадження решті вузлів системи, що, авжеж, дуже складно. Одним із прикладів може служити перехід з IPv4 на IPv6, який вимагає більше часу, ніж планували розробники. Пов’язано це з необхідністю оновлення протоколу на всіх пристроях усіх виробників. Водночас вигода для користувачів помітна далеко не відразу.

![Рисунок 1.9 – Проблема оновлення протоколу](/resources/img/volume-1/1.3-applying-the-principles-of-decentralization/1.9-houses.png)

*Проблема відповідальності*. Будь-яке рішення в децентралізованій системі – результат згоди більшості учасників (вибраних у певний спосіб). Тому немає єдиної сторони, яка могла би скасувати рішення, прийняте спільно, або нав’язати своє. Але якщо користувач із власної неуважності все-таки стане жертвою шахраїв, то йому нікуди буде скаржитися, бо в загальному разі немає відповідальної сторони та будь-яких гарантій (рис. 1.10). Тут йде мова саме про прийняття ризиків із боку самих користувачів. А розрахування цих ризиків – доволі складний процес.

![Рисунок 1.10 – Проблема відповідальності](/resources/img/volume-1/1.3-applying-the-principles-of-decentralization/1.10-responsibility.png)

*Складний процес монетизації розробки*. Монетизувати централізовану систему зазвичай легше, ніж децентралізовану. Так відбувається тому, що централізована система більше піддається регулюванню та може мати юридичну підтримку, оскільки адміністрація системи відповідальна за ведення діяльності в межах правового поля. За таких умов простіше побудувати бізнес-модель і монетизувати проєкт. У децентралізованій системі, навпаки, досить складно впровадити ефективну цензуру, забезпечити захист авторського права та контролювати використання сервісу. Створюються умови, у яких стає набагато складніше підтримувати діяльність системи в межах правового поля. Тому розробникам протоколів децентралізованих систем складно навіть мати прибуток зі своїх проєктів.

*Проблема масштабованості*. За використання механізму розподіленого прийняття рішень потрібно, щоб усі учасники обмінялися новими даними та погодили, які з них вважати правильними. Пропускна здатність облікової системи знижується зі збільшенням кількості валідаторів (рис. 1.11).

![Рисунок 1.11.2 – Приклад зниження пропускної здатності системи, пов’язаного зі збільшенням кількості її користувачів](/resources/img/volume-1/1.3-applying-the-principles-of-decentralization/1.11.1-scalability.png)
![Рисунок 1.11 – Приклад зниження пропускної здатності системи, пов’язаного зі збільшенням кількості її користувачів](/resources/img/volume-1/1.3-applying-the-principles-of-decentralization/1.11-scalability.png)

Децентралізованим системам також доводиться *зберігати надлишковий обсяг даних* і *задовольняти високим вимогам до обладнання*. Докладніше ці обмеження розглядатимуться далі (див. 5.3).

Є й *інші чинники*, що можуть перешкоджати розповсюдженню ПЗ, яке призначене для роботи в децентралізованому середовищі. Наприклад, мережевий трафік легко піддається фільтрації з боку інтернет-провайдера. Значна частина ПЗ поширюється через централізовані сервіси, як-от GitHub, Apple Store, Google Play тощо; як відомо, такі сервіси здатні здійснювати суб’єктивне цензурування (рис. 1.12). Застосунки можуть її не пройти або ж бути видалені (причому навіть набагато пізніше за успішну публікацію).

![Рисунок 1.12 – Сервіси-постачальники, що здатні цензурувати ПЗ для роботи в децентралізованих системах](/resources/img/volume-1/1.3-applying-the-principles-of-decentralization/1.12-centralized-access.png)

### Підсумки

Порівнювати децентралізацію та централізацію – не завжди гарна ідея, позаяк усе залежить від призначення, вимог й умов експлуатації.

Централізована система має низку корисних властивостей. Управляти такою системою легше, та зазвичай відомо, хто відповідальний за її роботу. Рішення в таких системах зазвичай приймаються доволі швидко. Можна побудувати цілком конкретну бізнес-модель і дотримуватися її, що є перевага, коли йдеться про монетизацію.

Основна мета децентралізації – забезпечити систему властивостями, що дозволяють ефективно та надійно взаємодіяти користувачам один з одним тоді, коли вони не довіряють якомусь центральному органу чи посереднику. Криптографічні алгоритми, протоколи розподіленого прийняття рішень і технологія blockchain стали фундаментом, на якому можна побудувати дійсно прозору, захищену та доволі ефективну децентралізовану облікову систему.

**Поширені міфи**

*Обсяг ресурсів, необхідний для обслуговування децентралізованої системи, з плином часу постійно збільшується.*

Необхідний обсяг ресурсів збільшується, тільки якщо децентралізована система має зберігати можливість здійснити аудит усієї історії змін спільної бази даних. У такому разі однозначно підвищуватимуться тільки вимоги до дискового простору, а вимоги до обчислювальної потужності можуть залишатися тими самими.

[ІСТОРІЯ ТА ПРИНЦИПИ РОБОТИ BITCOIN](https://github.com/distributed-lab/blockchain-and-decentralized-systems-book/blob/main/chapters/volume-1/ua/2-history-and-operational-principles-of-bitcoin.md)